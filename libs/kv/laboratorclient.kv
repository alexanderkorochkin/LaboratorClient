#:import Factory kivy.factory.Factory

<LaboratorClient>:
    canvas.before:
        Color:
            rgba: 0.5, 0.5, 0.5, 0.3
        Rectangle:
            pos: self.pos
            size: self.size
    BoxLayout:
        id: main_stack
        orientation: "vertical"
        BoxLayout:
            id: top_menu
            orientation: "horizontal"
            size_hint: 1, None
            size: self.size[0], sp(28)
            TouchableLabel:
                canvas:
                    Color:
                        rgba: 0, 0, 0, 1
                    Line:
                        width: 1
                        rectangle: self.x, self.y, self.width, self.height
                id: endpoint_label
                text: "opc.tcp://192.168.1.22:4840"
                font_size: sp(10)
                on_press: Factory.EnterEndpointPopup().open()
            BoxLayout:
                size_hint: None, 1
                size: sp(112), self.size[1]
                TouchableLabel:
                    id: btn_connect
                    font_name: "DejaVuSans.ttf"
                    text: "»"
                    on_press:
                        root.Connect()
                TouchableLabel:
                    id: btn_disconnect
                    font_name: "DejaVuSans.ttf"
                    text: '⨯'
                    disabled: True
                    on_press:
                        root.Disconnect()
                TouchableLabel:
                    id: btn_add_graph
                    font_name: "DejaVuSans.ttf"
                    text: "+"
                    on_press:
                        root.AddGraph()
                TouchableLabel:
                    id: btn_menu
                    font_name: "DejaVuSans.ttf"
                    text: "⋮"
        BoxLayout:
            canvas:
                Color:
                    rgba: 0.5, 0.5, 0.5, 0.1
                Rectangle:
                    pos: self.pos
                    size: self.size
                Color:
                    rgba: 0, 0, 0, 1
                Line:
                    width: 1
                    rectangle: self.x, self.y, self.width, self.height
            size_hint: 1, None
            size: self.size[0], sp(10)
            Label:
                id: info_log
                text: "Not connected"
                color: 1,0,0,1
                font_size: sp(8)
        BoxLayout:
            id: view_port
        BoxLayout:
            id: bottom_menu
            canvas:
                Color:
                    rgba: 0.5, 0.5, 0.5, 0.1
                Rectangle:
                    pos: self.pos
                    size: self.size
                Color:
                    rgba: 0, 0, 0, 1
                Line:
                    width: 1
                    rectangle: self.x, self.y, self.width, self.height
            size_hint: 1, None
            size: self.size[0], sp(50)
            Label:
                text: "Not connected"
                color: 1,0,0,1
                font_size: 12